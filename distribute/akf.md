# AKF

- [AKF](#akf)
  - [AKF理论](#akf理论)
  - [X轴](#x轴)
  - [Y轴](#y轴)
  - [Z轴](#z轴)

## AKF理论

- AKF立方体理论，定义了扩展系统的3个维度，可以综合使用它们来优化性能。
- AKF把系统扩展分为三个维度

  ![AKF](https://github.com/gongluck/images/blob/main/distribute/AKF.png)
  ![AKF的xy轴扩展](https://github.com/gongluck/images/blob/main/distribute/AKF的xy轴扩展.png)

  - X轴: 直接水平复制应用进程来扩展系统
  - Y轴: 将功能拆分出来扩展系统
  - Z轴: 基于用户信息扩展系统

## X轴

- X轴扩展系统时实施成本最低，只需要将程序复制到不同的服务器上运行，再用下游的负载均衡分配流量即可。
- X轴只能应用在无状态进程上，故无法解决数据增长引入的性能瓶颈。

## Y轴

- Y轴扩展系统时实施成本最高，通常涉及到部分代码的重构，但通过拆分功能，使系统中的组件分工更细，因此可以解决数据增长带来的性能压力，也可以提升系统的总体效率。
- 关系数据库的读写分离、表字段的垂直拆分，或者引入缓存，都属于沿Y轴扩展系统。

## Z轴

- Z轴扩展系统时实施成本也比较高，但基于用户信息拆分数据后，可以在解决数据增长问题的同时，基于地理位置就近提供服务，进而大幅度降低请求的时延，比如常见的CDN就是这么提升用户体验的。
- Z轴扩展系统后，一旦发生路由规则的变动导致数据迁移时，运维成本就会比较高。
