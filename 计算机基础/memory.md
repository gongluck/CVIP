# 内存

- [内存](#内存)
  - [地址转换](#地址转换)
  - [TLB](#tlb)
  - [DMA](#dma)

## 地址转换

- 内存需要被分成固定大小的页，然后再通过虚拟内存地址到物理内存地址的地址转换，才能到达实际存放数据的物理内存位置。
- 程序看到的内存地址，都是虚拟内存地址。

## TLB

![TLB](https://github.com/gongluck/images/blob/main/计算机基础/TLB.png)

- 在CPU里放了一块缓存芯片，称之为TLB，全称是地址变换高速缓冲(Translation-Lookaside Buffer)。
- 这块缓存存放了之前已经进行过地址转换的查询结果。这样，当同样的虚拟地址需要进行地址转换的时候，可以直接在TLB里面查询结果，而不需要多次访问内存来完成一次转换。

## DMA

- DMA技术，就是直接内存访问(Direct Memory Access)技术，来减少CPU等待的时间。
- 本质上，DMA技术就是在主板上放一块独立的芯片。在进行内存和I/O设备的数据传输的时候，不再通过CPU来控制数据传输，而直接通过DMA控制器(DMA Controller，DMAC)。这块芯片其实就是一个协处理器(Co-Processor)。
- DMAC最有价值的地方体现在，当要传输的数据特别大、速度特别快，或者传输的数据特别小、速度特别慢的时候。
