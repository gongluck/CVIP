# Redis 高可用

- [Redis 高可用](#redis-高可用)
  - [高可用定义](#高可用定义)
  - [计算性高可用](#计算性高可用)
  - [存储性高可用](#存储性高可用)
  - [Redis 的高可用](#redis-的高可用)
    - [哨兵模式](#哨兵模式)
      - [流程](#流程)
      - [使用](#使用)
      - [缺点](#缺点)
    - [集群模式](#集群模式)
      - [特征](#特征)
      - [使用](#使用-1)
      - [缺点](#缺点-1)

## 高可用定义

- reads and writes always succeed
- 服务一直可用

## 计算性高可用

- 提供多个备用节点

## 存储性高可用

- 数据同步
- 主从切换

## Redis 的高可用

### 哨兵模式

#### 流程

- 主观下线
- 客观下线
- 哨兵选举
- 从库选主

#### 使用

- 连接哨兵节点
- 获取主库地址
- 发布一个发布订阅连接，监听主库变更通知

#### 缺点

- 没有解决数据丢失问题
- 没有数据扩展机制
- 部署麻烦

### 集群模式

#### 特征

- 去中心化
- 主节点对等
- 解决数据扩展
- 读写都走主节点，主从复制是异步复制

#### 使用

- 连接集群中的节点
- 直接访问数据

#### 缺点

- 没有解决数据丢失问题
